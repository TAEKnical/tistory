컨테이너
독립적인 환경을 보장받는 프로세스
여기까지는 많이 아는데
독립된 환경을 어떻게 만드는가? -> pivot-root, namespace, cgroup 에 의해
독립적니 환경을 보장받는 프로세스이다
컨테이너를 실행할 수 있는 환경만 갖추어져 있다면 어디에서나 실행 가능하며 동일한 환경을 공유할 수 있다

실습1
ip -c -br a
iptables

호스트의 리눅스 배포판과 컨테이너의 커널 버전이 달라도 컨테이너가 동작하는 이유는?
https://en.wikipedia.org/wiki/Linux_Standard_Base
리눅스 ABI
cpu 아키텍처는 구분함( )

호스트 커널 버전이 너무 낮고 도커 컨테이너 버전이 너무 높으면?
호스트 커널을 공유해서 쓰기 때문에 문제 생길수있음

chroot가 탈옥 가능해서 pivot root+mount namespace를 쓴다고 함


namespace의 종류가 여러가지 있음(*자주쓰이는것*)
*mount 호스트에서 컨테이너의 디렉토리를 다 볼 수 있음. 그래서 컨테이너에 시크릿 정보 저장 x. 반대로 호스트의 최상위 디렉토리를 잘못 마운트하면 컨테이너가 호스트의 전체 디렉토리를 볼 수 도 있음.
*network
*process(pid) 호스트에서 pid로 컨테이너의 1번 죽일 수 있음
호스트에서 컨테이너의 프로세스가 보임
user
ipc
uts 호스트네임
cgroup

호스트에서 컨테이너의 env도 볼 수 있음?
호스트의 /proc/<pid>/environ

이런 점들 때문에 VM보다 격리수준에서는 떨어진다
	
	
pivot-root, 네임스페이스(namespace), cgroup 를 사용함으로써 프로세스 단위의 격리 환경과 리소스을 제공합니다.

	사전지시
	
실습1
실습2
실습3
	

	
	